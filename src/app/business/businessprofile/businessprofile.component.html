<section class="content">
  <div class="container-fluid">
    <div class="block-header">
      <div class="row">
        <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
          <ul class="breadcrumb breadcrumb-style ">
            <li class="breadcrumb-item">
              <h4 class="page-title">Business Profile</h4>
            </li>
            <li class="breadcrumb-item bcrumb-1">
              <a routerLink="/business/businesses">
                <i class="fas fa-home"></i> Business</a>
            </li>
            <li class="breadcrumb-item active">Profile</li>
          </ul>
        </div>
      </div>
    </div>
    <div class="row clearfix">
      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
        <div class="col-md-12 header mb-3 d-flex pl-0 pr-0 mt-4">
          <div class="col-md-6 pl-0">
            <h4>Business Information</h4>
          </div>
          <div class="col-md-6 pr-0">
            <button type="button" class="btn btn-outline-danger pull-right" disabled="disabled">Delete Business</button>
          </div>
        </div>
        <div class="card">
          <div class="body">
            <div class="media mt-1 mb-1">
              <div class="media-left">
                <a href="#">
                  <img class="media-object" src="assets/images/media.png" alt="" width="75" height="75">
                </a>
              </div>
              <div class="media-body ml-2">
                <h4 class="media-heading">{{business?.organization?.name || "Not Available"}}</h4>
                <p class="mb-1 font-14"><b>Business ID:</b> {{business?.organization?.uniquiId || "Not Available"}}</p>
                <p class="mb-1 font-14"><b>Date Founded:</b>
                  {{business?.business?.date_founded | date }}</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
        <div class="card">
          <div class="body">
            <h5 class="m-b-25 mt-2">Business Details</h5>
            <div class="media mt-1 mb-1">
              <div class="media-body">
                <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                  <h6 class="font-15" style="color: black !important;">Name of Business</h6>
                  <p class="mb-1 font-14">{{business?.organization?.name || "Not Available"}}</p>
                </div>
                <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                  <h6 class="font-15" style="color: black !important;">Address <span class="text-success">(Coming
                      Soon)</span></h6>
                  <p class="mb-1 font-14">1 Wale Balogun close, hopeville estate, sangotedo, ajah
                    Lagos state.</p>
                </div>
                <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                  <h6 class="font-15" style="color: black !important;">Business Phone</h6>
                  <p class="mb-1 font-14">
                    {{business?.organization?.phone || "Not Available"}}</p>
                </div>
                <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                  <h6 class="font-15" style="color: black !important;">Website Address </h6>
                  <p class="mb-1 font-14"><a target="blank"
                      href="{{business?.business?.website_link}}">{{business?.business?.website_link || "Not Available"}}</a>
                  </p>
                </div>
                <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                  <h6 class="font-15" style="color: black !important;">CAC Number</h6>
                  <p class="mb-1 font-14">
                    {{business?.business?.business_cac_number || "Not Avaiable"}}</p>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0 m-t-35">
                  <h6 class="font-15" style="color: black !important;">Business Verification Status
                  </h6>
                  <p class="mb-1 font-16 font-bold" style="color: black !important;"><i
                      class="fas fa-caret-right mr-2"></i>{{business?.approvalstatus?.name}}</p>
                  <p class="mb-1 font-14">To increase transparency between businesses and people on
                    the WealthMarket, The WealthMarket will have to validate and approved your business. <strong>(If, it
                      has not
                      been Approved)</strong></p>
                </div>
                <div class="col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0 m-t-35">
                  <h6 class="font-15" style="color: black !important;">Business History
                  </h6>
                  <p class="mb-1 font-14"><b>Created By:</b> {{business?.creator?.last_name}}
                    {{business?.creator?.first_name}} on {{business?.business?.datecreated | date}}</p>
                  <p class="mb-1 font-14"><b>Owned By:</b> {{business?.owner?.last_name}}
                    {{business?.owner?.first_name}} on {{business?.business?.date_founded | date}}</p>
                </div>
              </div>
              <div class="media-right">
                <button mat-icon-button class="btn-tbl-edit">
                  <mat-icon>border_color</mat-icon>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
        <div class="card">
          <div class="body">
            <h5 class="m-b-25 mt-2">Business Email Verification</h5>
            <div class="media mb-0">
              <div class="media-body">
                <div class="col-md-12 header mb-0 d-flex pl-0 pr-0 pt-0 pb-0">
                  <div class="col-md-10 pl-0 mb-0">
                    <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                      <h6 class="font-15" style="color: black !important;">Verification Status</h6>
                      <p class="mb-1 font-16 font-bold" style="color: black !important;"><i
                          class="fas fa-caret-right mr-2"></i>{{business?.emailstatus?.name}}</p>
                      <p class="mb-1 font-14">Help increase transparency between businesses and people on
                        the WealthMarket by
                        verifying your business from the registered email address <strong>(If you have not)</strong>. If
                        your business needs to access certain WealthMarket
                        products it must be verified.
                      </p>
                    </div>
                  </div>
                  <div class="col-md-2 pr-0" *ngIf="business?.emailstatus?.name === 'Pending'">
                    <button type="button" mat-button data-toggle="modal" data-target="#ValidateEmailModal"
                      class="btn btn-outline-primary pull-right">Validate Email</button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
        <div class="card">
          <div class="body">
            <h5 class="m-b-25 mt-2">Business Options</h5>
            <div class="media mb-0">
              <div class="media-body">
                <div class="col-md-12 header mb-0 d-flex pl-0 pr-0 pt-0 pb-0">
                  <div class="col-md-10 pl-0 mb-0">
                    <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                      <h6 class="font-15" style="color: black !important;">Two-Factor Authentication <span
                          class="text-success">(Coming Soon)</span></h6>
                      <p class="mb-1 font-14">Require a login code to access Business Manager from unknown browsers.
                      </p>
                    </div>
                  </div>
                  <div class="col-md-2 pr-0">
                    <mat-form-field class="example-full-width pull-right pb-0 mt-0 mb-0" appearance="outline">
                      <mat-label>Select</mat-label>
                      <mat-select>
                        <mat-option value="yes">Yes</mat-option>
                        <mat-option value="no">No</mat-option>
                      </mat-select>
                    </mat-form-field>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
        <div class="card">
          <div class="body">
            <div class="col-md-12 header mb-3 d-flex pl-0 pr-0 pb-0">
              <div class="col-md-6 pl-0">
                <h4>My Info</h4>
              </div>
              <!-- <div class="col-md-6 pr-0">
                                <button type="button" class="btn btn-danger pull-right">leave Tolani Sanni</button>
                            </div> -->
            </div>
            <div class="media mb-0 mt-0">
              <div class="media-body">
                <div class="media-body">
                  <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                    <h6 class="font-15" style="color: black !important;">Name</h6>
                    <p class="mb-1 font-14">{{business?.owner?.last_name}} {{business?.owner?.first_name}} </p>
                  </div>
                  <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                    <h6 class="font-15" style="color: black !important;">Email</h6>
                    <p class="mb-1 font-14">{{business?.owner?.email}}</p>
                  </div>
                  <div class="mb-2 col-xs-12 col-sm-12 col-md-12 col-lg-12 pl-0">
                    <h6 class="font-15" style="color: black !important;">Phone Number</h6>
                    <p class="mb-1 font-14">{{business?.owner?.phone_number}}</p>
                  </div>
                </div>
              </div>
            </div>
            <div class="media mt-1 mb-1 mt-4">
              <div class="media-body">
                <h6 class="font-15" style="color: black !important;">Pages and Notifications <span
                    class="text-success">(Coming Soon)</span></h6>
                <p class="mb-4 font-14">We get you notified in everything you do on the business
                  page.</p>
              </div>
              <div class="media-right">
                <mat-slide-toggle></mat-slide-toggle>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xs-12 col-sm-12 col-md-10 col-lg-10 mx-auto">
        <div class="card">
          <div class="header d-flex">
            <h2 class="mt-1">Staff </h2>
            <span class="badge bg-orange font-bold ml-2">{{staff?.length || "0"}}</span>
          </div>
          <div class="tableBody">
            <div class="table-responsive">
              <table class="table table-hover ">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Role </th>
                    <th>Status</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let member of staff">
                    <td>{{member.user.first_name || "Not Available"}}
                      {{member.user.last_name || "Available"}}</td>
                    <td>{{ member.role.name || "Not Available"}}</td>
                    <td>{{ member.status.name || "Not Available"}}</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>
</section>

<div class="modal fade " tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true"
  id="ValidateEmailModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="mt-3 mb-3 ml-3" id="myLargeModalLabel">Validate Business Email</h5>
        <button type="button" class="close mt-2 mb-3 mr-2" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="centered-content mt-2">

          <form [formGroup]="verifyForm" (ngSubmit)="onVerifyEmail()">
            <div class="form-line">
              <mat-form-field class="example-full-width" appearance="outline">
                <mat-label>Enter Verification Code</mat-label>
                <input matInput formControlName="verifycode" required>
                <mat-error *ngIf="verifyForm.get('verifycode').hasError('required')">
                  Code is required
                </mat-error>
              </mat-form-field>
            </div>
            <div class="text-right button-demo">
              <button class="btn btn-success btn-border-radius waves-effect"
               >Submit</button>
            </div>
          </form>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-danger waves-effect" id="closeverifyemail"
          data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
